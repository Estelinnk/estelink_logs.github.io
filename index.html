<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FiveM Logs – Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <p id="errorBanner" class="banner-error">❌ Impossible de se connecter à l’API (<span id="apiUrlText"></span>)</p>

    <div class="toolbar">
      <input id="search" class="input" placeholder="Recherche..." aria-label="Recherche">
      <input id="date" class="input date" type="date" aria-label="Date">
      <div class="select-wrap">
        <select id="type" class="select" aria-label="Type">
          <option value="">Type</option>
          <option value="connect">Connect</option>
          <option value="disconnect">Disconnect</option>
          <option value="kill">Kill</option>
          <option value="death">Death</option>
          <option value="transfer">Transfert</option>
          <option value="stash">Coffre</option>
          <option value="vehicle_buy">Achat véhicule</option>
          <option value="vehicle_sell">Vente véhicule</option>
          <option value="vehicle_enter">Entrée véhicule</option>
          <option value="vehicle_exit">Sortie véhicule</option>
          <!-- <option value="police_arrest">Arrestation</option>
          <option value="police_release">Libération</option> -->
        </select>
      </div>
      <button id="openFilters" class="btn" aria-label="Filtres">⚙</button>
    </div>

    <div class="chips" id="chips"></div>

    <div class="kpi" id="kpiBar">
      <div class="card"><div class="label">Connexions (24h)</div><div class="value" id="kpiConnect">0</div></div>
      <div class="card"><div class="label">Kills (24h)</div><div class="value" id="kpiKill">0</div></div>
      <div class="card"><div class="label">Transferts (24h)</div><div class="value" id="kpiTransfer">0</div></div>
      <div class="card"><div class="label">Montant transféré</div><div class="value" id="kpiAmount">0 $</div></div>
    </div>

    <div class="list" id="list"></div>

    <div class="footer">
      <div id="count"><span class="api-dot" id="apiLed"></span>API</div>
      <div class="row">
        <button class="btn-text" id="liveToggle">Live: OFF</button>
        <button class="btn-text" id="exportCsv">Export CSV</button>
        <button class="btn-text ghost" id="reset">Réinitialiser</button>
      </div>
    </div>
  </div>

  <!-- Modal Filtres avancés -->
  <dialog id="filtersModal">
    <div class="modal-head">
      <strong>Filtres avancés</strong>
      <button class="btn-text" id="closeFilters">Fermer</button>
    </div>
    <div class="modal-body">
      <div class="modal-grid">
        <div>
          <label for="identifier">Identifiant joueur</label>
          <input id="identifier" class="input" placeholder="license:xxxxxxxx...">
        </div>
        <div>
          <label for="victim">Victime / Cible</label>
          <input id="victim" class="input" placeholder="license:...">
        </div>
        <div>
          <label for="weapon">Arme</label>
          <input id="weapon" class="input" placeholder="WEAPON_SMG">
        </div>
        <div class="row">
          <div style="flex:1">
            <label for="minAmount">Montant min ($)</label>
            <input id="minAmount" type="number" class="input" placeholder="0">
          </div>
          <div style="flex:1">
            <label for="maxAmount">Montant max ($)</label>
            <input id="maxAmount" type="number" class="input" placeholder="100000">
          </div>
        </div>
      </div>
    </div>
    <div class="actions">
      <button class="btn-text" id="clearFilters">Effacer</button>
      <button class="btn-solid" id="applyFilters">Appliquer</button>
    </div>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
