<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FiveM Logs</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/x-icon" href="https://cdn.discordapp.com/attachments/1069907719831699478/1404128862799134871/avY9dCi.png?ex=689a1068&is=6898bee8&hm=d2b2e7b4b7a26b6defa6bbd272e1a36321f024d7a5d3b44125fab987071136fe&">
</head>
<body>
  <div class="container">

    <!-- Bannière d’erreur API -->
    <p id="errorBanner" class="banner-error">
      ❌ Impossible de se connecter à l’API (<span id="apiUrlText"></span>)
    </p>

    <!-- Barre d’outils (comme le Figma) -->
    <div class="toolbar">
      <input id="search" class="input search" placeholder="Recherche…" aria-label="Recherche" />
      <input id="date" class="input date" type="date" placeholder="JJ/MM/AAAA" aria-label="Date" />
      <div class="select-wrap">
        <select id="type" class="select" aria-label="Type">
          <option value="">Type</option>
          <option value="connect">Connect</option>
          <option value="disconnect">Disconnect</option>
          <option value="kill">Kill</option>
          <option value="death">Death</option>
          <option value="transfer">Transfert</option>
          <option value="stash">Coffre</option>
          <option value="vehicle_buy">Achat véhicule</option>
          <option value="vehicle_sell">Vente véhicule</option>
          <option value="vehicle_enter">Entrée véhicule</option>
          <option value="vehicle_exit">Sortie véhicule</option>
          <option value="police_arrest">Arrestation</option>
          <option value="police_release">Libération</option>
        </select>
      </div>
      <button id="openFilters" class="btn" aria-label="Filtres">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 5h16l-6 7v5l-4 2v-7L4 5z" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </button>
    </div>

    <!-- (compat) chips masqués par défaut -->
    <div class="chips" id="chips" hidden></div>

    <!-- (compat) KPIs masqués par défaut -->
    <div class="kpi" id="kpiBar" hidden>
      <div class="card"><div class="label">Connexions (24h)</div><div class="value" id="kpiConnect">0</div></div>
      <div class="card"><div class="label">Kills (24h)</div><div class="value" id="kpiKill">0</div></div>
      <div class="card"><div class="label">Transferts (24h)</div><div class="value" id="kpiTransfer">0</div></div>
      <div class="card"><div class="label">Montant transféré</div><div class="value" id="kpiAmount">0 $</div></div>
    </div>

    <!-- Liste des logs (rendu Figma) -->
    <div class="list" id="list"></div>

    <!-- Pied (LED API) -->
    <div class="footer">
      <div><span class="api-dot" id="apiLed"></span> API</div>
    </div>
  </div>

  <!-- Modal Filtres avancés (toujours dispo) -->
  <dialog id="filtersModal">
    <div class="modal-head">
      <strong>Filtres avancés</strong>
      <button class="btn-text" id="closeFilters">Fermer</button>
    </div>
    <div class="modal-body">
      <div class="modal-grid">
        <div>
          <label for="identifier">Identifiant joueur</label>
          <input id="identifier" class="input" placeholder="license:xxxxxxxx…" />
        </div>
        <div>
          <label for="victim">Victime / Cible</label>
          <input id="victim" class="input" placeholder="license:…" />
        </div>
        <div>
          <label for="weapon">Arme</label>
          <input id="weapon" class="input" placeholder="WEAPON_SMG" />
        </div>
        <div class="row">
          <div style="flex:1">
            <label for="minAmount">Montant min ($)</label>
            <input id="minAmount" type="number" class="input" placeholder="0" />
          </div>
          <div style="flex:1">
            <label for="maxAmount">Montant max ($)</label>
            <input id="maxAmount" type="number" class="input" placeholder="100000" />
          </div>
        </div>
      </div>
    </div>
    <div class="actions">
      <button class="btn-text" id="clearFilters">Effacer</button>
      <button class="btn-solid" id="applyFilters">Appliquer</button>
    </div>
  </dialog>

  <script src="trad.js"></script>
  <script src="app.js"></script>
</body>
</html>
